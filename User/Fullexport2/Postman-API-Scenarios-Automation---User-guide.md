 **Steps to manually run the collection in your Local Postman:**  **Step 1: Download Environment and Collection** 


1. Open a web browser and Navigate to Github.


1. Download the required Postman Collections and Environments:


    * 'Groups': [Groups_APIs.postman_collection.json](https://raw.githubusercontent.com/Sunbird-Lern/groups-service/master/api-tests/collections/Groups_APIs.postman_collection.json)


    * 'Lms_Service': [Lms_APIs.postman_collection.json](https://raw.githubusercontent.com/Sunbird-Lern/lms-service/master/api-tests/Collection/Lms_APIs.postman_collection.json)


    * 'User_Org_Service': [UserOrg_APIs.postman_collection.json](https://raw.githubusercontent.com/Sunbird-Lern/userorg-service/release-7.0.0/api-tests/Collections/UserOrg_APIs.postman_collection.json)


    * 'Groups_Test': [Groups_APIs%20Test.postman_collection.json](https://github.com/Sunbird-Lern/groups-service/blob/master/api-tests/collections/Groups_APIs%20Test.postman_collection.json)


    * 'Lms_Service_Test': [Lms_APIs%20Test.postman_collection.json](https://raw.githubusercontent.com/Sunbird-Lern/lms-service/release-5.4.0/api-tests/Collection/Lms_APIs%20Test.postman_collection.json)


    * 'User_Org_Service_Test': [UserOrg_APIs%20Test.postman_collection.json](https://raw.githubusercontent.com/Sunbird-Lern/userorg-service/release-7.0.0/api-tests/Collections/UserOrg_APIs%20Test.postman_collection.json)



    
1. Save these files to a known location on your computer.



 **Step 2: Open Postman** 

Launch the Postman application on your computer.

 **Step 3: Import Collection** 


1. Click on the "Import" button in the top-left corner.


1. Choose "Import From Link."


1. Paste the URL of the Postman collection you want to run and click "Import."


1. The collection is added to your collections list.



 **Step 4: Import Environment** 


1. Similarly, import the environment associated with the collection.


1. Click on "Import" and choose "Import From Link."


1. Paste the URL of the Postman environment and click "Import."



 **Step 5: Configure Environment Variables** 


1. Go to the "Manage Environments" settings (gear icon in the top right).


1. Select the imported environment from the dropdown.


1. Set the values for variables such as auth_client_id, auth_client_secret, kong_api_key, username, and password.


1. Click "Update" or "Save" to save the changes.



 **Step 6: Run the Collection** 


1. Go back to the main Postman window.


1. Select the collection you imported.


1. Click on the "Runner" button on the top right (next to the eye icon).


1. In the Collection Runner, select the collection you want to run and the environment.


1. Click "Start Run."


1. Postman will execute the requests in the collection.



 **Step 7: View Test Results** 


1. Once the run is complete, you'll see a summary of the test results.


1. Click on the "Visualize" button to see a detailed view of the test results.


1. You can see which requests passed or failed, along with response details.



 **Step 8: Export Test Results Report** 


1. Click on the "Download" button (down arrow icon) in the Visualize tab.


1. Choose the format in which you want to download the report. Common formats include HTML or JSON.


1. Save the file to your desired location.




## Jenkins Job: Postman Collection Runner
 **Job:** [ **http://10.20.0.14:8080/jenkins/job/Deploy/job/dev/job/Lern/job/Postman_API_Automation/build** ](http://10.20.0.14:8080/jenkins/job/Deploy/job/dev/job/Lern/job/Postman_API_Automation/build?delay=0sec)


## Steps for Manually Running Postman Collection in Jenkins:
Step 1: Select Postman Collection
1. Click on the above job to open its details.


1. Look for a dropdown or input field labeled "Postman Collection" or similar.


1. From the dropdown, select the Postman collection you want to execute using Newman.



Step 2: Trigger the Build
1. Once you've selected the desired Postman collection, find and click the "Build Now" or "Build" button in the Jenkins job interface.


1. Jenkins will start the build process, and you can monitor the progress in the Jenkins console output.



Step 3: Monitor Console Output
1. In the console output, you'll see information about each stage of the pipeline.


1. Check for any errors or issues reported in the console. If everything is set up correctly, you should see Newman executing your Postman collection.



Step 4: View Newman Reports
1. Once the build is complete, look for a link or information about the HTML report generated by Newman.


1. Jenkins may provide a link directly to the HTML report. Click on the link to view the detailed report.



Additional Tip:
* If you encounter issues, check the console output for error messages, and make necessary adjustments to your configuration.



By following these steps, you can manually trigger the execution of a specific Postman collection using Newman through Jenkins.

 **Jenkins job explanation:** 

Step 1: Setting up the Environment
* agent any: This pipeline can run on any available agent (Jenkins worker).


* environment: Defines environment variables for the entire pipeline.


    * PATH: Sets the system path for locating executable files.


    * postmanEnvironmentFile: Specifies the file path for the Postman environment JSON file.



    

Step 2: Installing Node.js and Newman
* stage('Install Node.js and Newman'): This stage installs Node.js and Newman globally.


    * script: Executes a series of shell commands.


    * sh 'nodejs -v': Prints the Node.js version.


    * sh 'npm -v': Prints the npm (Node Package Manager) version.


    * sh 'npm install -g newman@5.2.0': Installs Newman globally with a specified version.


    * sh 'npm install -g newman-reporter-html': Installs the HTML reporter for Newman.


    * sh 'newman -v': Prints the Newman version.



    

    

Step 3: Setting Environment Variables
* stage('Set Environment Variables'): Configures environment variables required for running Postman collections.


    * script: Executes a Groovy script.


    * (Replace the environment variables dynamically from Jenkins Secret to Postman env file)



    

    

Step 4: Running Newman for Selected Collections
* stage('Run Newman for Selected Collections'): Executes Newman to run selected Postman collections.


    * script: Executes a Groovy script.


    * (Run Groovy script for automated running of Postman collection)



    

    

 **Step 5: View the Newman Test Report** 


1. After completion, look for the HTML test report in the Jenkins workspace. Typically, it's in the workspace/<Your Job Name>/htmlresults directory.




### Summary:

1.  **Environment Setup:**  Set up environment variables and define the system path.


1.  **Install Dependencies:**  Install Node.js, Newman, and the HTML reporter globally.


1.  **Configure Environment Variables:**  Set sensitive information from Jenkins credentials as environment variables.


1.  **Run Newman:**  Execute Newman to run selected Postman collections using the configured environment and generate HTML reports.



This Jenkins job automates the process of running Postman collections, making it easier to integrate API testing into your CI/CD pipeline.

Â 



*****

[[category.storage-team]] 
[[category.confluence]] 
